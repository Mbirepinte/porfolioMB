{"ast":null,"code":"import _slicedToArray from\"/home/michael/6-Projets perso/portfolioMB/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{Suspense,useEffect,useState}from\"react\";import{Helmet}from\"react-helmet\";import Layout from\"../components/Layout\";import Pagination from\"../components/Pagination\";import PortfoliosView from\"../components/PortfoliosView\";import Sectiontitle from\"../components/Sectiontitle\";import Spinner from\"../components/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Portfolios(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),portfolios=_useState2[0],setPortfoios=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(9),_useState6=_slicedToArray(_useState5,1),portfoliosPerPage=_useState6[0];useEffect(function(){var mounted=true;axios.get(\"/api/portfolios\").then(function(response){if(mounted){setPortfoios(response.data);}});return function(){return mounted=false;};},[]);var indexOfLastPortfolios=currentPage*portfoliosPerPage;var indexOfFirstPortfolios=indexOfLastPortfolios-portfoliosPerPage;var currentPortfolios=portfolios.slice(indexOfFirstPortfolios,indexOfLastPortfolios);var paginate=function paginate(e,pageNumber){e.preventDefault();setCurrentPage(pageNumber);};return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Portfolios - Chester React Personal Portfolio Template\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Chester React Personal Portfolio Template Portfolios Page\"})]}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"mi-about mi-section mi-padding-top mi-padding-bottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Sectiontitle,{title:\"Portfolios\"}),/*#__PURE__*/_jsx(PortfoliosView,{portfolios:currentPortfolios}),!(portfolios.length>portfoliosPerPage)?null:/*#__PURE__*/_jsx(Pagination,{className:\"mt-50\",itemsPerPage:portfoliosPerPage,totalItems:portfolios.length,paginate:paginate,currentPage:currentPage})]})})})]});}export default Portfolios;","map":{"version":3,"names":["axios","React","Suspense","useEffect","useState","Helmet","Layout","Pagination","PortfoliosView","Sectiontitle","Spinner","Portfolios","portfolios","setPortfoios","currentPage","setCurrentPage","portfoliosPerPage","mounted","get","then","response","data","indexOfLastPortfolios","indexOfFirstPortfolios","currentPortfolios","slice","paginate","e","pageNumber","preventDefault","length"],"sources":["/home/michael/6-Projets perso/portfolioMB/src/pages/Portfolios.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { Suspense, useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport Layout from \"../components/Layout\";\nimport Pagination from \"../components/Pagination\";\nimport PortfoliosView from \"../components/PortfoliosView\";\nimport Sectiontitle from \"../components/Sectiontitle\";\nimport Spinner from \"../components/Spinner\";\n\nfunction Portfolios() {\n  const [portfolios, setPortfoios] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [portfoliosPerPage] = useState(9);\n\n  useEffect(() => {\n    let mounted = true;\n    axios.get(\"/api/portfolios\").then((response) => {\n      if (mounted) {\n        setPortfoios(response.data);\n      }\n    });\n    return () => (mounted = false);\n  }, []);\n\n  const indexOfLastPortfolios = currentPage * portfoliosPerPage;\n  const indexOfFirstPortfolios = indexOfLastPortfolios - portfoliosPerPage;\n  const currentPortfolios = portfolios.slice(\n    indexOfFirstPortfolios,\n    indexOfLastPortfolios\n  );\n\n  const paginate = (e, pageNumber) => {\n    e.preventDefault();\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <Layout>\n      <Helmet>\n        <title>Portfolios - Chester React Personal Portfolio Template</title>\n        <meta\n          name=\"description\"\n          content=\"Chester React Personal Portfolio Template Portfolios Page\"\n        />\n      </Helmet>\n      <Suspense fallback={<Spinner />}>\n        <div className=\"mi-about mi-section mi-padding-top mi-padding-bottom\">\n          <div className=\"container\">\n            <Sectiontitle title=\"Portfolios\" />\n            {<PortfoliosView portfolios={currentPortfolios} />}\n            {!(portfolios.length > portfoliosPerPage) ? null : (\n              <Pagination\n                className=\"mt-50\"\n                itemsPerPage={portfoliosPerPage}\n                totalItems={portfolios.length}\n                paginate={paginate}\n                currentPage={currentPage}\n              />\n            )}\n          </div>\n        </div>\n      </Suspense>\n    </Layout>\n  );\n}\n\nexport default Portfolios;\n"],"mappings":"+HAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC5D,OAASC,MAAM,KAAQ,cAAc,CACrC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,WAAU,KAAM,0BAA0B,CACjD,MAAOC,eAAc,KAAM,8BAA8B,CACzD,MAAOC,aAAY,KAAM,4BAA4B,CACrD,MAAOC,QAAO,KAAM,uBAAuB,CAAC,wFAE5C,QAASC,WAAU,EAAG,CACpB,cAAmCP,QAAQ,CAAC,EAAE,CAAC,wCAAxCQ,UAAU,eAAEC,YAAY,eAC/B,eAAsCT,QAAQ,CAAC,CAAC,CAAC,yCAA1CU,WAAW,eAAEC,cAAc,eAClC,eAA4BX,QAAQ,CAAC,CAAC,CAAC,yCAAhCY,iBAAiB,eAExBb,SAAS,CAAC,UAAM,CACd,GAAIc,QAAO,CAAG,IAAI,CAClBjB,KAAK,CAACkB,GAAG,CAAC,iBAAiB,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAC9C,GAAIH,OAAO,CAAE,CACXJ,YAAY,CAACO,QAAQ,CAACC,IAAI,CAAC,CAC7B,CACF,CAAC,CAAC,CACF,MAAO,kBAAOJ,QAAO,CAAG,KAAK,EAAC,CAChC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMK,sBAAqB,CAAGR,WAAW,CAAGE,iBAAiB,CAC7D,GAAMO,uBAAsB,CAAGD,qBAAqB,CAAGN,iBAAiB,CACxE,GAAMQ,kBAAiB,CAAGZ,UAAU,CAACa,KAAK,CACxCF,sBAAsB,CACtBD,qBAAqB,CACtB,CAED,GAAMI,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,CAAC,CAAEC,UAAU,CAAK,CAClCD,CAAC,CAACE,cAAc,EAAE,CAClBd,cAAc,CAACa,UAAU,CAAC,CAC5B,CAAC,CAED,mBACE,MAAC,MAAM,yBACL,MAAC,MAAM,yBACL,iFAAqE,cACrE,aACE,IAAI,CAAC,aAAa,CAClB,OAAO,CAAC,2DAA2D,EACnE,GACK,cACT,KAAC,QAAQ,EAAC,QAAQ,cAAE,KAAC,OAAO,IAAI,uBAC9B,YAAK,SAAS,CAAC,sDAAsD,uBACnE,aAAK,SAAS,CAAC,WAAW,wBACxB,KAAC,YAAY,EAAC,KAAK,CAAC,YAAY,EAAG,cAClC,KAAC,cAAc,EAAC,UAAU,CAAEJ,iBAAkB,EAAG,CACjD,EAAEZ,UAAU,CAACkB,MAAM,CAAGd,iBAAiB,CAAC,CAAG,IAAI,cAC9C,KAAC,UAAU,EACT,SAAS,CAAC,OAAO,CACjB,YAAY,CAAEA,iBAAkB,CAChC,UAAU,CAAEJ,UAAU,CAACkB,MAAO,CAC9B,QAAQ,CAAEJ,QAAS,CACnB,WAAW,CAAEZ,WAAY,EAE5B,GACG,EACF,EACG,GACJ,CAEb,CAEA,cAAeH,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}