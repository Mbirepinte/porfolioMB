{"ast":null,"code":"import _slicedToArray from\"/home/michael/6-Projets perso/portfolioMB/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{Suspense,useEffect,useState}from\"react\";import{Helmet}from\"react-helmet\";import BlogsView from\"../components/BlogsView\";import Layout from\"../components/Layout\";import Pagination from\"../components/Pagination\";import Sectiontitle from\"../components/Sectiontitle\";import Spinner from\"../components/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Blogs(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(6),_useState6=_slicedToArray(_useState5,1),postsPerPage=_useState6[0];useEffect(function(){var mounted=true;axios.get(\"/api/blog\").then(function(response){if(mounted){setPosts(response.data);}});return function(){return mounted=false;};},[]);var indexOfLastPost=currentPage*postsPerPage;var indexOfFirstPost=indexOfLastPost-postsPerPage;var currentPosts=posts.slice(indexOfFirstPost,indexOfLastPost);var paginate=function paginate(e,pageNumber){e.preventDefault();setCurrentPage(pageNumber);};return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Blogs - Chester React Personal Portfolio Template\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Chester React Personal Portfolio Template Blogs Page\"})]}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"mi-about mi-section mi-padding-top mi-padding-bottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Sectiontitle,{title:\"Recent Blogs\"}),/*#__PURE__*/_jsx(BlogsView,{blogs:currentPosts}),!(posts.length>postsPerPage)?null:/*#__PURE__*/_jsx(Pagination,{className:\"mt-50\",itemsPerPage:postsPerPage,totalItems:posts.length,paginate:paginate,currentPage:currentPage})]})})})]});}export default Blogs;","map":{"version":3,"names":["axios","React","Suspense","useEffect","useState","Helmet","BlogsView","Layout","Pagination","Sectiontitle","Spinner","Blogs","posts","setPosts","currentPage","setCurrentPage","postsPerPage","mounted","get","then","response","data","indexOfLastPost","indexOfFirstPost","currentPosts","slice","paginate","e","pageNumber","preventDefault","length"],"sources":["/home/michael/6-Projets perso/portfolioMB/src/pages/Blogs.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { Suspense, useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport BlogsView from \"../components/BlogsView\";\nimport Layout from \"../components/Layout\";\nimport Pagination from \"../components/Pagination\";\nimport Sectiontitle from \"../components/Sectiontitle\";\nimport Spinner from \"../components/Spinner\";\n\nfunction Blogs() {\n  const [posts, setPosts] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(6);\n\n  useEffect(() => {\n    let mounted = true;\n    axios.get(\"/api/blog\").then((response) => {\n      if (mounted) {\n        setPosts(response.data);\n      }\n    });\n    return () => (mounted = false);\n  }, []);\n\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);\n\n  const paginate = (e, pageNumber) => {\n    e.preventDefault();\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <Layout>\n      <Helmet>\n        <title>Blogs - Chester React Personal Portfolio Template</title>\n        <meta\n          name=\"description\"\n          content=\"Chester React Personal Portfolio Template Blogs Page\"\n        />\n      </Helmet>\n      <Suspense fallback={<Spinner />}>\n        <div className=\"mi-about mi-section mi-padding-top mi-padding-bottom\">\n          <div className=\"container\">\n            <Sectiontitle title=\"Recent Blogs\" />\n            <BlogsView blogs={currentPosts} />\n            {!(posts.length > postsPerPage) ? null : (\n              <Pagination\n                className=\"mt-50\"\n                itemsPerPage={postsPerPage}\n                totalItems={posts.length}\n                paginate={paginate}\n                currentPage={currentPage}\n              />\n            )}\n          </div>\n        </div>\n      </Suspense>\n    </Layout>\n  );\n}\n\nexport default Blogs;\n"],"mappings":"+HAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC5D,OAASC,MAAM,KAAQ,cAAc,CACrC,MAAOC,UAAS,KAAM,yBAAyB,CAC/C,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,WAAU,KAAM,0BAA0B,CACjD,MAAOC,aAAY,KAAM,4BAA4B,CACrD,MAAOC,QAAO,KAAM,uBAAuB,CAAC,wFAE5C,QAASC,MAAK,EAAG,CACf,cAA0BP,QAAQ,CAAC,EAAE,CAAC,wCAA/BQ,KAAK,eAAEC,QAAQ,eACtB,eAAsCT,QAAQ,CAAC,CAAC,CAAC,yCAA1CU,WAAW,eAAEC,cAAc,eAClC,eAAuBX,QAAQ,CAAC,CAAC,CAAC,yCAA3BY,YAAY,eAEnBb,SAAS,CAAC,UAAM,CACd,GAAIc,QAAO,CAAG,IAAI,CAClBjB,KAAK,CAACkB,GAAG,CAAC,WAAW,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CACxC,GAAIH,OAAO,CAAE,CACXJ,QAAQ,CAACO,QAAQ,CAACC,IAAI,CAAC,CACzB,CACF,CAAC,CAAC,CACF,MAAO,kBAAOJ,QAAO,CAAG,KAAK,EAAC,CAChC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMK,gBAAe,CAAGR,WAAW,CAAGE,YAAY,CAClD,GAAMO,iBAAgB,CAAGD,eAAe,CAAGN,YAAY,CACvD,GAAMQ,aAAY,CAAGZ,KAAK,CAACa,KAAK,CAACF,gBAAgB,CAAED,eAAe,CAAC,CAEnE,GAAMI,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,CAAC,CAAEC,UAAU,CAAK,CAClCD,CAAC,CAACE,cAAc,EAAE,CAClBd,cAAc,CAACa,UAAU,CAAC,CAC5B,CAAC,CAED,mBACE,MAAC,MAAM,yBACL,MAAC,MAAM,yBACL,4EAAgE,cAChE,aACE,IAAI,CAAC,aAAa,CAClB,OAAO,CAAC,sDAAsD,EAC9D,GACK,cACT,KAAC,QAAQ,EAAC,QAAQ,cAAE,KAAC,OAAO,IAAI,uBAC9B,YAAK,SAAS,CAAC,sDAAsD,uBACnE,aAAK,SAAS,CAAC,WAAW,wBACxB,KAAC,YAAY,EAAC,KAAK,CAAC,cAAc,EAAG,cACrC,KAAC,SAAS,EAAC,KAAK,CAAEJ,YAAa,EAAG,CACjC,EAAEZ,KAAK,CAACkB,MAAM,CAAGd,YAAY,CAAC,CAAG,IAAI,cACpC,KAAC,UAAU,EACT,SAAS,CAAC,OAAO,CACjB,YAAY,CAAEA,YAAa,CAC3B,UAAU,CAAEJ,KAAK,CAACkB,MAAO,CACzB,QAAQ,CAAEJ,QAAS,CACnB,WAAW,CAAEZ,WAAY,EAE5B,GACG,EACF,EACG,GACJ,CAEb,CAEA,cAAeH,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}